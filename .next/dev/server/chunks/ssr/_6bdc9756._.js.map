{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/projects/tanmay/mental-health-assistant/frontend/lib/withAuth.js"],"sourcesContent":["'use client';\r\nimport { useSession } from 'next-auth/react';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\nimport { useEffect, useRef } from 'react';\r\nimport DesignerLoader from '@/app/components/DesignerLoader';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nexport default function withAuth(Component) {\r\n  return function AuthWrapper(props) {\r\n    const { status } = useSession();\r\n    const router = useRouter();\r\n    const pathname = usePathname();\r\n    const hasRedirected = useRef(false);\r\n\r\n    useEffect(() => {\r\n      const allowedPaths = ['/', '/login', '/signup'];\r\n      \r\n      if (status === 'unauthenticated' && !allowedPaths.includes(pathname) && !hasRedirected.current) {\r\n        hasRedirected.current = true;\r\n        \r\n        // Show toast immediately\r\n        toast.error('Please login to access this page, redirecting to login page', {\r\n          position: \"top-right\",\r\n          autoClose: 3000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n          theme: \"light\",\r\n        });\r\n\r\n        // Redirect after 2 seconds\r\n        setTimeout(() => {\r\n          router.push('/login');\r\n        }, 3000);\r\n      }\r\n    }, [status, pathname, router]);\r\n\r\n    // Always render ToastContainer\r\n    const toastContainer = (\r\n      <ToastContainer\r\n        position=\"top-right\"\r\n        autoClose={5000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n        theme=\"light\"\r\n      />\r\n    );\r\n\r\n    if (status === 'loading') {\r\n      return (\r\n        <div className='h-screen w-screen flex justify-center items-center'>\r\n          {toastContainer}\r\n          <DesignerLoader />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // For unauthenticated users on protected routes, show loading state while toast is displayed\r\n    const allowedPaths = ['/', '/login', '/signup'];\r\n    if (status === 'unauthenticated' && !allowedPaths.includes(pathname)) {\r\n      return (\r\n        <div className='h-screen w-screen flex justify-center items-center'>\r\n          {toastContainer}\r\n          <DesignerLoader />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // For all other cases, render the component\r\n    return (\r\n      <>\r\n        <Component {...props} />\r\n        {toastContainer}\r\n      </>\r\n    );\r\n  };\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;;AAOe,SAAS,SAAS,SAAS;IACxC,OAAO,SAAS,YAAY,KAAK;QAC/B,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,4JAAU;QAC7B,MAAM,SAAS,IAAA,+IAAS;QACxB,MAAM,WAAW,IAAA,iJAAW;QAC5B,MAAM,gBAAgB,IAAA,+MAAM,EAAC;QAE7B,IAAA,kNAAS,EAAC;YACR,MAAM,eAAe;gBAAC;gBAAK;gBAAU;aAAU;YAE/C,IAAI,WAAW,qBAAqB,CAAC,aAAa,QAAQ,CAAC,aAAa,CAAC,cAAc,OAAO,EAAE;gBAC9F,cAAc,OAAO,GAAG;gBAExB,yBAAyB;gBACzB,4JAAK,CAAC,KAAK,CAAC,+DAA+D;oBACzE,UAAU;oBACV,WAAW;oBACX,iBAAiB;oBACjB,cAAc;oBACd,cAAc;oBACd,WAAW;oBACX,UAAU;oBACV,OAAO;gBACT;gBAEA,2BAA2B;gBAC3B,WAAW;oBACT,OAAO,IAAI,CAAC;gBACd,GAAG;YACL;QACF,GAAG;YAAC;YAAQ;YAAU;SAAO;QAE7B,+BAA+B;QAC/B,MAAM,+BACJ,8OAAC,qKAAc;YACb,UAAS;YACT,WAAW;YACX,iBAAiB;YACjB,aAAa;YACb,YAAY;YACZ,KAAK;YACL,gBAAgB;YAChB,SAAS;YACT,YAAY;YACZ,OAAM;;;;;;QAIV,IAAI,WAAW,WAAW;YACxB,qBACE,8OAAC;gBAAI,WAAU;;oBACZ;kCACD,8OAAC,8IAAc;;;;;;;;;;;QAGrB;QAEA,6FAA6F;QAC7F,MAAM,eAAe;YAAC;YAAK;YAAU;SAAU;QAC/C,IAAI,WAAW,qBAAqB,CAAC,aAAa,QAAQ,CAAC,WAAW;YACpE,qBACE,8OAAC;gBAAI,WAAU;;oBACZ;kCACD,8OAAC,8IAAc;;;;;;;;;;;QAGrB;QAEA,4CAA4C;QAC5C,qBACE;;8BACE,8OAAC;oBAAW,GAAG,KAAK;;;;;;gBACnB;;;IAGP;AACF"}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///D:/projects/tanmay/mental-health-assistant/frontend/app/mood-checkin/page.js"],"sourcesContent":["'use client';\r\nimport React, { useState } from 'react';\r\nimport withAuth from \"@/lib/withAuth\";\r\n\r\nconst MoodCheckIn = () => {\r\n    const [form, setForm] = useState({\r\n        mood: '',\r\n        sleepHours: '',\r\n        studyHours: '',\r\n        screenTime: '',\r\n        energyLevel: '',\r\n        academicPressure: '',\r\n        notes: '',\r\n    });\r\n\r\n    const handleChange = (e) => {\r\n        setForm({ ...form, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const data = await api(\"/mood-checkin\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify(form),\r\n        });\r\n\r\n        if (data.error) {\r\n            alert(data.error);\r\n        } else {\r\n            alert(\"Check-in saved successfully!\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 px-4 py-12\">\r\n            <div className=\"max-w-xl mx-auto bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-lg border border-orange-100\">\r\n\r\n                {/* Title */}\r\n                <div className=\"text-center mb-8\">\r\n                    <div className=\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-[#F99262] to-orange-400 rounded-2xl mb-4 shadow-lg\">\r\n                        <span className=\"text-3xl\">üí≠</span>\r\n                    </div>\r\n                    <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n                        Daily Mood Check-In\r\n                    </h1>\r\n                    <p className=\"text-gray-600\">\r\n                        Help us understand how you're feeling today\r\n                    </p>\r\n                </div>\r\n\r\n                {/* Form */}\r\n                <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n\r\n                    {/* Mood */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-gray-800 mb-2\">\r\n                            How is your mood today?\r\n                        </label>\r\n                        <select\r\n                            name=\"mood\"\r\n                            value={form.mood}\r\n                            onChange={handleChange}\r\n                            required\r\n                            className=\"w-full border-2 border-gray-200 rounded-xl p-3 text-gray-700 focus:border-[#F99262] focus:ring-2 focus:ring-orange-200 transition-all outline-none bg-white\"\r\n                        >\r\n                            <option value=\"\">Select mood</option>\r\n                            <option value=\"Happy\">üòä Happy</option>\r\n                            <option value=\"Neutral\">üòê Neutral</option>\r\n                            <option value=\"Stressed\">üòü Stressed</option>\r\n                            <option value=\"Anxious\">üò∞ Anxious</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    {/* Sleep */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-gray-800 mb-2\">\r\n                            Hours of sleep last night\r\n                        </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            name=\"sleepHours\"\r\n                            value={form.sleepHours}\r\n                            onChange={handleChange}\r\n                            min=\"0\"\r\n                            max=\"12\"\r\n                            required\r\n                            className=\"w-full border-2 border-gray-200 rounded-xl p-3 focus:border-[#F99262] focus:ring-2 focus:ring-orange-200 transition-all outline-none\"\r\n                            placeholder=\"e.g. 7\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Study */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-gray-800 mb-2\">\r\n                            Study hours today\r\n                        </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            name=\"studyHours\"\r\n                            value={form.studyHours}\r\n                            onChange={handleChange}\r\n                            min=\"0\"\r\n                            max=\"16\"\r\n                            required\r\n                            className=\"w-full border-2 border-gray-200 rounded-xl p-3 focus:border-[#F99262] focus:ring-2 focus:ring-orange-200 transition-all outline-none\"\r\n                            placeholder=\"e.g. 5\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Screen */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-gray-800 mb-2\">\r\n                            Screen time (hours)\r\n                        </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            name=\"screenTime\"\r\n                            value={form.screenTime}\r\n                            onChange={handleChange}\r\n                            min=\"0\"\r\n                            max=\"24\"\r\n                            required\r\n                            className=\"w-full border-2 border-gray-200 rounded-xl p-3 focus:border-[#F99262] focus:ring-2 focus:ring-orange-200 transition-all outline-none\"\r\n                            placeholder=\"e.g. 6\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Energy Level */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-gray-800 mb-2\">\r\n                            Energy level (1‚Äì5)\r\n                        </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            name=\"energyLevel\"\r\n                            value={form.energyLevel}\r\n                            onChange={handleChange}\r\n                            min=\"1\"\r\n                            max=\"5\"\r\n                            required\r\n                            className=\"w-full border-2 border-gray-200 rounded-xl p-3 focus:border-[#F99262] focus:ring-2 focus:ring-orange-200 transition-all outline-none\"\r\n                            placeholder=\"e.g. 3\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Academic Pressure */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-gray-800 mb-2\">\r\n                            Academic pressure today\r\n                        </label>\r\n                        <select\r\n                            name=\"academicPressure\"\r\n                            value={form.academicPressure}\r\n                            onChange={handleChange}\r\n                            required\r\n                            className=\"w-full border-2 border-gray-200 rounded-xl p-3 text-gray-700 focus:border-[#F99262] focus:ring-2 focus:ring-orange-200 transition-all outline-none bg-white\"\r\n                        >\r\n                            <option value=\"\">Select pressure</option>\r\n                            <option value=\"Low\">Low</option>\r\n                            <option value=\"Medium\">Medium</option>\r\n                            <option value=\"High\">High</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    {/* Notes */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-semibold text-gray-800 mb-2\">\r\n                            Notes (optional)\r\n                        </label>\r\n                        <textarea\r\n                            name=\"notes\"\r\n                            value={form.notes}\r\n                            onChange={handleChange}\r\n                            rows=\"3\"\r\n                            className=\"w-full border-2 border-gray-200 rounded-xl p-3 focus:border-[#F99262] focus:ring-2 focus:ring-orange-200 transition-all outline-none\"\r\n                            placeholder=\"Exam week, deadlines, etc.\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Submit */}\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"w-full bg-gradient-to-r from-[#F99262] to-orange-400 text-white py-3.5 rounded-xl font-semibold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-200\"\r\n                    >\r\n                        Submit Check-In\r\n                    </button>\r\n                </form>\r\n\r\n                {/* Disclaimer */}\r\n                <p className=\"mt-6 text-xs text-gray-500 text-center\">\r\n                    This check-in is for self-support only and not a medical assessment.\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withAuth(MoodCheckIn);\r\n"],"names":[],"mappings":"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"}}]
}