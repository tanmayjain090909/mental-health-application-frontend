{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///D:/projects/tanmay/mental-health-assistant/frontend/lib/auth.js"],"sourcesContent":["import CredentialsProvider from \"next-auth/providers/credentials\";\r\nimport GoogleProvider from \"next-auth/providers/google\";\r\nimport GitHubProvider from \"next-auth/providers/github\";\r\nimport FacebookProvider from \"next-auth/providers/facebook\";\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nexport const authOptions = {\r\n  providers: [\r\n    CredentialsProvider({\r\n      name: \"Credentials\",\r\n      async authorize(credentials) {\r\n        const res = await fetch(\r\n          `${process.env.NEXT_PUBLIC_API_URL}/api/auth/login`,\r\n          {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify(credentials),\r\n          }\r\n        );\r\n\r\n        const data = await res.json();\r\n        if (!res.ok) throw new Error(data.error);\r\n\r\n        return data; // { id, email, username }\r\n      },\r\n    }),\r\n\r\n    GoogleProvider({\r\n      clientId: process.env.GOOGLE_CLIENT_ID,\r\n      clientSecret: process.env.GOOGLE_CLIENT_SECRET,\r\n    }),\r\n\r\n    GitHubProvider({\r\n      clientId: process.env.GITHUB_CLIENT_ID,\r\n      clientSecret: process.env.GITHUB_CLIENT_SECRET,\r\n    }),\r\n\r\n    FacebookProvider({\r\n      clientId: process.env.FACEBOOK_CLIENT_ID,\r\n      clientSecret: process.env.FACEBOOK_CLIENT_SECRET,\r\n    }),\r\n  ],\r\n\r\n  session: { strategy: \"jwt\" },\r\n\r\n  callbacks: {\r\n    async jwt({ token, user }) {\r\n      if (user) {\r\n        token.id = user.id;\r\n        token.email = user.email;\r\n        token.username = user.username;\r\n\r\n        // ðŸ”¥ backend JWT\r\n        token.backendToken = jwt.sign(\r\n          {\r\n            id: user.id,\r\n            email: user.email,\r\n            username: user.username,\r\n          },\r\n          process.env.NEXTAUTH_SECRET,\r\n          { expiresIn: \"7d\" }\r\n        );\r\n      }\r\n      return token;\r\n    },\r\n\r\n    async session({ session, token }) {\r\n      session.user.id = token.id;\r\n      session.user.email = token.email;\r\n      session.user.username = token.username;\r\n      session.backendToken = token.backendToken;\r\n      return session;\r\n    },\r\n  },\r\n\r\n  pages: {\r\n    signIn: \"/login\",\r\n  },\r\n\r\n  secret: process.env.NEXTAUTH_SECRET,\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEO,MAAM,cAAc;IACzB,WAAW;QACT,IAAA,qKAAmB,EAAC;YAClB,MAAM;YACN,MAAM,WAAU,WAAW;gBACzB,MAAM,MAAM,MAAM,MAChB,8DAAmC,eAAe,CAAC,EACnD;oBACE,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;gBACvB;gBAGF,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,KAAK,KAAK;gBAEvC,OAAO,MAAM,0BAA0B;YACzC;QACF;QAEA,IAAA,gKAAc,EAAC;YACb,UAAU,QAAQ,GAAG,CAAC,gBAAgB;YACtC,cAAc,QAAQ,GAAG,CAAC,oBAAoB;QAChD;QAEA,IAAA,gKAAc,EAAC;YACb,UAAU,QAAQ,GAAG,CAAC,gBAAgB;YACtC,cAAc,QAAQ,GAAG,CAAC,oBAAoB;QAChD;QAEA,IAAA,kKAAgB,EAAC;YACf,UAAU,QAAQ,GAAG,CAAC,kBAAkB;YACxC,cAAc,QAAQ,GAAG,CAAC,sBAAsB;QAClD;KACD;IAED,SAAS;QAAE,UAAU;IAAM;IAE3B,WAAW;QACT,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACvB,IAAI,MAAM;gBACR,MAAM,EAAE,GAAG,KAAK,EAAE;gBAClB,MAAM,KAAK,GAAG,KAAK,KAAK;gBACxB,MAAM,QAAQ,GAAG,KAAK,QAAQ;gBAE9B,iBAAiB;gBACjB,MAAM,YAAY,GAAG,kJAAG,CAAC,IAAI,CAC3B;oBACE,IAAI,KAAK,EAAE;oBACX,OAAO,KAAK,KAAK;oBACjB,UAAU,KAAK,QAAQ;gBACzB,GACA,QAAQ,GAAG,CAAC,eAAe,EAC3B;oBAAE,WAAW;gBAAK;YAEtB;YACA,OAAO;QACT;QAEA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,QAAQ,IAAI,CAAC,EAAE,GAAG,MAAM,EAAE;YAC1B,QAAQ,IAAI,CAAC,KAAK,GAAG,MAAM,KAAK;YAChC,QAAQ,IAAI,CAAC,QAAQ,GAAG,MAAM,QAAQ;YACtC,QAAQ,YAAY,GAAG,MAAM,YAAY;YACzC,OAAO;QACT;IACF;IAEA,OAAO;QACL,QAAQ;IACV;IAEA,QAAQ,QAAQ,GAAG,CAAC,eAAe;AACrC"}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///D:/projects/tanmay/mental-health-assistant/frontend/app/api/auth/%5B...nextauth%5D/route.js"],"sourcesContent":["import NextAuth from \"next-auth\";\r\nimport { authOptions } from \"@/lib/auth\";\r\n\r\nconst handler = NextAuth(authOptions);\r\n\r\nexport { handler as GET, handler as POST };"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,MAAM,UAAU,IAAA,kJAAQ,EAAC,4HAAW"}}]
}